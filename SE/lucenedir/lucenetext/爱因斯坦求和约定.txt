爱因斯坦求和约定

在数学里，特别是将线性代数套用到物理时，爱因斯坦求和约定（）是一种标记的约定，又称为爱因斯坦标记法（），在处理关于坐标的方程式时非常有用。这约定是由阿尔伯特·爱因斯坦于1916年提出的。后来，爱因斯坦与友人半开玩笑地说：「这是数学史上的一大发现，若不信的话，可以试著返回那不使用这方法的古板日子。」

按照爱因斯坦求和约定，当一个单独项目内有标号变数出现两次，一次是上标，一次是下标时，则必须总和所有这单独项目的可能值。通常而言，标号的标值为1、2、3（代表维度为三的欧几里得空间），或0、1、2、3（代表维度为四的时空或闵可夫斯基时空）。但是，标值可以有任意值域，甚至（在某些应用案例里）无限集合。这样，在三维空间里，

的意思是

请特别注意，上标并不是指数，而是标记不同坐标。例如，在直角坐标系里，formula_3、formula_4、formula_5分别表示formula_6坐标、formula_7坐标、formula_8坐标，而不是formula_6、formula_6的平方、formula_6的立方。

爱因斯坦标记法的基本点子是余向量与向量可以形成纯量：

通常会将这写为求和公式形式：

在基底变换之下，纯量保持不变。当基底改变时，一个向量的线性变换可以用矩阵来描述，而余向量的线性变换则需用其逆矩阵来描述。这样的设计为的是要保证，不论基底为何，伴随余向量的线性函数（即上述总和）保持不变。由于只有总和不变，而总和所涉及的每一个项目都有可能会改变，所以，爱因斯坦提出了这标记法，重复标号表示总和，不需要用到求和符号：

采用爱因斯坦标记法，余向量都是以下标来标记，而向量都是以上标来标记。标号的位置具有特别意义。请不要将上标与指数混淆在一起，大多数涉及的方程式都是线性，不超过变数的一次方。在方程式里，单独项目内的标号变数最多只会出现两次，假若多于两次，或出现任何其它例外，则都必须特别加以说明，才不会造成含意混淆不清。

在线性代数里，采用爱因斯坦标记法，可以很容易的分辨向量和余向量（又称为1-形式）。向量的分量是用上标来标明，例如，formula_15。给予一个formula_16维向量空间formula_17和其任意基底formula_18（可能不是标准正交基），那么，向量formula_19表示为

余向量的分量是用下标来标明，例如，formula_21。给予formula_17的对偶空间formula_23和其任意基底formula_24（可能不是标准正交基），那么，余向量formula_25表示为

采用向量的共变和反变术语，上标表示反变向量（向量）。对于基底的改变，从formula_27改变为formula_28，反变向量会变换为

其中，formula_30是改变基底后的向量的分量，formula_31是改变基底后的坐标，formula_32是原先的坐标，

下标表示共变向量（余向量）。对于基底的改变，从formula_33改变为formula_34，共变向量会会变换为

矩阵formula_36的第formula_37横排，第 formula_16竖排的元素，以前标记为formula_39；现在改标记为formula_40。各种一般运算都可以用爱因斯坦标记法来表示如下：

给予向量formula_19和余向量formula_25，其向量和余向量的内积为纯量：

给予矩阵formula_36和向量formula_19，它们的乘积是向量formula_46：

类似地，矩阵formula_36的转置矩阵formula_49，其与余向量formula_25的乘积是余向量formula_51：

矩阵乘法表示为

这公式等价于较冗长的普通标记法：

给予一个方块矩阵formula_55，总和所有上标与下标相同的元素formula_56，可以得到这矩阵的迹formula_57：

M维向量formula_19和N维余向量formula_25的外积是一个M×N矩阵formula_36：

采用爱因斯坦标记式，上述方程式可以表示为

由于formula_64和formula_65代表两个不同的标号，在这案例，值域分别为M和N，外积不会除去这两个标号，而使这两个标号变成了新矩阵formula_36的标号。

一般力学及工程学会用互相标准正交基的基底向量formula_67、formula_68及formula_69来描述三维空间的向量。

把直角坐标系的基底向量formula_67、formula_68及formula_69写成formula_74、formula_75及formula_76，所以一个向量可以写成：

根据爱因斯坦求和约定，若单项中有标号出现两次且分别位于上标及下标，则此项代表著所有可能值之总和：

由于基底是标准正交基，formula_79的每一个分量formula_80，所以，

两个向量formula_79与formula_83的内积是

由于基底是标准正交基，基底向量相互正交归一：

其中，formula_86就是克罗内克函数。当formula_87时，则formula_88，否则formula_89。

逻辑上，在方程式内的任意项目，若遇到了克罗内克函数formula_86，就可以把方程式中的标号formula_64转为formula_65或者把标号formula_65转为formula_64。所以，

采用同样的标准正交基formula_74、formula_75及formula_76，两个向量formula_79与formula_83的叉积，以方程式表示为

注意到

其中，张量formula_104是列维-奇维塔符号，定义为
所以，

设定formula_106，那么，

所以，

在欧几里得空间formula_17里，共变向量和反变向量之间的区分很小。这是因为能够使用内积运算从向量求得余向量；对于所有向量formula_46，通过下述方程式，向量formula_19唯一地确定了余向量formula_25：

逆过来，通过上述方程式，每一个余向量formula_114唯一地确定了向量formula_19。由于这向量与余向量的相互辨认，我们可以提到向量的共变分量和反变分量；也就是说，它们只是同样向量对于基底和其对偶基底的不同表现。

给予formula_17的一个基底formula_117，则必存在一个唯一的对偶基底formula_118，满足

其中，张量formula_120是克罗内克函数。

以这两种基底，任意向量formula_19可以写为两种形式

其中，formula_123是向量formula_19对于基底formula_125的反变分量，formula_126是向量formula_83对于基底formula_125的共变分量，

在欧几里得空间formula_129里，使用内积运算，能够从向量求得余向量。给予一个可能不是标准正交基的基底，其基底向量为formula_130、formula_131、formula_132，就可以计算其对偶基底的基底向量：

其中，formula_134是基底向量formula_130、formula_131、formula_132共同形成的平行六面体的体积。

反过来计算，

其中，formula_139是基底向量formula_140、formula_141、formula_142共同形成的平行六面体的体积。

虽然formula_143与formula_144并不相互标准正交，它们相互对偶：

虽然formula_146与formula_147并不相互标准正交，它们相互对偶：

这样，任意向量formula_19的反变分量为

类似地，共变分量为

这样，formula_19可以表示为
或者，

综合上述关系式，

向量formula_19的共变分量为

其中，formula_158是度规张量。

向量formula_19的反变分量为

其中，formula_161是共轭度规张量。

共变分量的标号是下标，反变分量的标号是上标。假若共变基底向量组成的基底是标准正交基，或反变基底向量组成的基底是标准正交基，则共变基底与反变基底相互等价。那么，就没有必要分辨共变分量和反变分量，所有的标号都可以用下标来标记。

思考维度为formula_16的向量空间formula_17。给予一个可能不是标准正交基的基底formula_164。那么，在formula_17内的向量formula_83，对于这基底，其分量为formula_167、formula_168、...formula_169。以方程式表示，

在这方程式右手边，标号formula_64在同一项目出现了两次，一次是上标，一次是下标，因此，从formula_64等于formula_173到formula_16，这项目的每一个可能值都必须总和在一起。

爱因斯坦约定的优点是，它可以应用于从formula_17用张量积和对偶性建立的向量空间。例如，formula_176，formula_17与自己的张量积，拥有由形式为formula_178的张量组成的基底。任意在formula_176内的张量formula_180可以写为

向量空间formula_17的对偶空间formula_23拥有基底formula_184，遵守规则

其中，formula_186是克罗内克函数。

为了更明确地解释爱因斯坦求和约定，在这里给出几个简单的例子。




